<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>A Jornada da Contadora</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Cinzel', serif;
      background-color: #f4f0e6;
      background-image: url('bg_inicio.jpg');
      background-size: cover;
      background-position: center;
      color: #3e2f1c;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-image 1s ease-in-out;
    }

    #intro, #game {
      background-color: rgba(255, 255, 240, 0.95);
      padding: 3em;
      border-radius: 15px;
      box-shadow: 0 0 25px #a58b61;
      max-width: 800px;
      text-align: center;
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 0.5em;
    }

    p {
      font-size: 1.1em;
      margin-bottom: 2em;
    }

    .btn {
      padding: 1em 2em;
      background-color: #dcbf94;
      border: 2px solid #8c6d3f;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      transition: 0.3s ease;
      margin: 0.5em;
    }

    .btn:hover {
      background-color: #f5e4c3;
      transform: scale(1.05);
    }

    .choice button {
      margin: 1em 0.5em;
    }

    #audio {
      display: none;
    }
  </style>
</head>
<body id="body">

  <!-- Tela de Introdu√ß√£o -->
  <div id="intro">
    <h1>üåø A Jornada da Contadora üåø</h1>
    <p>Voc√™ √© uma contadora de hist√≥rias, guardi√£ das mem√≥rias do seu povo. Suas decis√µes moldar√£o o destino da mem√≥ria ancestral. A cada escolha, uma nova trilha se revela. Use sua sabedoria para guiar a jornada.</p>
    <button class="btn" onclick="iniciarJogo()">Come√ßar a Jornada</button>
  </div>

  <!-- √Årea principal do jogo -->
  <div id="game" style="display: none;">
    <h1>A Jornada da Contadora</h1>
    <p id="story">Um novo dia come√ßa, voc√™ escolhe...</p>
    <div class="choice" id="choices">
      <button class="btn" onclick="escolhaVila()">Sair e caminhar at√© a vila</button>
      <button class="btn" onclick="escolhaCancao()">Ficar em casa e entoar uma can√ß√£o ancestral</button>
    </div>
  </div>

  <!-- √Åudio -->
  <audio id="audio" loop>
    <source id="audioSource" type="audio/mp3">
  </audio>

  <script>
    const audio = document.getElementById('audio');
    const audioSource = document.getElementById('audioSource');

    function playAudio(soundFile) {
      audioSource.src = soundFile;
      audio.load();
      audio.play();
    }

    function iniciarJogo() {
      document.getElementById('intro').style.display = 'none';
      document.getElementById('game').style.display = 'block';
      document.getElementById('body').style.backgroundImage = "url('bg_inicio.jpg')";
    }

    function escolhaVila() {
      document.getElementById('body').style.backgroundImage = "url('bg_vila.jpg')";
      playAudio('bg_vila.wav');
      document.getElementById('story').innerText =
        "Voc√™ caminha at√© a vila e encontra uma crian√ßa chorando. Ela perdeu um colar encantado, heran√ßa de sua av√≥.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="ajudarCrianca()">Ajudar a crian√ßa</button>
        <button class="btn" onclick="ignorarCrianca()">Ignorar e seguir adiante</button>
      `;
    }

    function escolhaCancao() {
      document.getElementById('body').style.backgroundImage = "url('bg_cancao.jpg')";
      playAudio('bg_espirito.wav');
      document.getElementById('story').innerText =
        "Sua voz ecoa pela casa, e um esp√≠rito ancestral aparece, envolto em luz dourada.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="ouvirEspirito()">Ouvir o esp√≠rito</button>
        <button class="btn" onclick="fugirEspirito()">Fugir com medo</button>
      `;
    }

    function ajudarCrianca() {
      document.getElementById('body').style.backgroundImage = "url('bg_vila.jpg')";
      playAudio('bg_vila.wav');
      document.getElementById('story').innerText =
        "Voc√™ promete ajudar. A crian√ßa sorri e diz que viu o colar perto da √°rvore dos tr√™s galhos.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="irParaFloresta()">Ir at√© a floresta</button>
      `;
    }

    function ignorarCrianca() {
      document.getElementById('body').style.backgroundImage = "url('bg_vila.jpg')";
      playAudio('bg_vila.wav');
      document.getElementById('story').innerText =
        "Voc√™ segue seu caminho, mas sente uma tristeza profunda no ar. Algo se perdeu...";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="irParaFloresta()">Seguir para a floresta</button>
      `;
    }

    function ouvirEspirito() {
      document.getElementById('body').style.backgroundImage = "url('bg_espirito.jpg')";
      playAudio('bg_espirito.wav');
      document.getElementById('story').innerText =
        "O esp√≠rito revela que grandes desafios vir√£o, e apenas quem conhece as hist√≥rias do povo poder√° venc√™-los.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="irParaFloresta()">Seguir para a floresta</button>
      `;
    }

    function fugirEspirito() {
      document.getElementById('body').style.backgroundImage = "url('bg_espirito.jpg')";
      playAudio('bg_espirito.wav');
      document.getElementById('story').innerText =
        "Voc√™ foge e a can√ß√£o √© interrompida. Uma n√©voa estranha cobre sua mem√≥ria.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="irParaFloresta()">Seguir para a floresta</button>
      `;
    }

    function irParaFloresta() {
      document.getElementById('body').style.backgroundImage = "url('bg_floresta.jpg')";
      playAudio('bg_vila.wav');
      document.getElementById('story').innerText =
        "Voc√™ segue rumo √† floresta dos ecos, onde vozes antigas chamam por voc√™...";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="encontroCurupira()">Seguir as vozes misteriosas</button>
        <button class="btn" onclick="encontroIara()">Seguir o som do riacho</button>
      `;
    }

    function encontroCurupira() {
      document.getElementById('body').style.backgroundImage = "url('bg_curupira.jpg')";
      playAudio('bg_curupira.wav');
      document.getElementById('story').innerText =
        "No centro da floresta, um ser de cabelos flamejantes e p√©s virados observa voc√™. √â o Curupira. 'Conte-me uma verdade da sua inf√¢ncia ou perca-se para sempre', ele diz.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="contarVerdade()">Contar uma hist√≥ria verdadeira</button>
        <button class="btn" onclick="mentirParaCurupira()">Inventar uma mentira</button>
      `;
    }

    function contarVerdade() {
      document.getElementById('body').style.backgroundImage = "url('bg_curupira.jpg')";
      playAudio('bg_curupira.wav');
      document.getElementById('story').innerText =
        "Ao ouvir sua hist√≥ria verdadeira, o Curupira sorri. 'Voc√™ honra suas mem√≥rias. Siga pela trilha do cora√ß√£o.'";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="irParaPonte()">Seguir pela trilha do cora√ß√£o</button>
      `;
    }

    function mentirParaCurupira() {
      document.getElementById('body').style.backgroundImage = "url('bg_curupira_black.jpg')";
      playAudio('bg_curupira.wav');
      document.getElementById('story').innerText =
        "O Curupira sente sua mentira. Com um assobio agudo, a floresta escurece e fecha os caminhos. Voc√™ perde parte da sua mem√≥ria.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="irParaPonte()">Seguir pela trilha da d√∫vida</button>
      `;
    }

    function encontroIara() {
      document.getElementById('body').style.backgroundImage = "url('bg_iara.jpg')";
      playAudio('bg_iara.m4a');
      document.getElementById('story').innerText =
        "√Ä beira do riacho, uma mulher de olhos profundos canta. √â a Iara. Ela te convida a ouvir a can√ß√£o at√© o fim.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="ouvirCancao()">Ouvir com aten√ß√£o</button>
        <button class="btn" onclick="interromperCancao()">Interromper a can√ß√£o</button>
      `;
    }

    function ouvirCancao() {
      document.getElementById('body').style.backgroundImage = "url('bg_iara.jpg')";
      playAudio('bg_iara.m4a');
      document.getElementById('story').innerText =
        "A can√ß√£o desperta uma lembran√ßa esquecida: o rosto de sua av√≥ te ensinando a contar hist√≥rias. Voc√™ sente seu cora√ß√£o brilhar.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="irParaPonte()">Seguir pela trilha da sabedoria</button>
      `;
    }

    function interromperCancao() {
      document.getElementById('body').style.backgroundImage = "url('bg_iara.jpg')";
      playAudio('bg_iara.m4a');
      document.getElementById('story').innerText =
        "Ao interromper a can√ß√£o, a Iara mergulha nas √°guas. A mem√≥ria que estava prestes a emergir se desfaz como n√©voa.";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="irParaPonte()">Seguir pela trilha do sil√™ncio</button>
      `;
    }

    function irParaPonte() {
      document.getElementById('body').style.backgroundImage = "url('bg_ponte.jpg')";
      playAudio('bg_ponte.wav');
      document.getElementById('story').innerText =
        "Voc√™ pisa na ponte antiga. No meio dela, uma n√©voa toma forma. Surge o Guardi√£o Espectral: 'S√≥ quem honra as hist√≥rias pode cruzar.'";
      document.getElementById('choices').innerHTML = `
        <button class="btn" onclick="finalBom()">Contar a hist√≥ria real de sua jornada</button>
        <button class="btn" onclick="finalNeutro()">Inventar uma nova hist√≥ria</button>
        <button class="btn" onclick="finalRuim()">Ficar em sil√™ncio</button>
      `;
    }

    function finalBom() {
      document.getElementById('body').style.backgroundImage = "url('bg_final_bom.jpg')";
      playAudio('bg_final_bom.wav');
      document.getElementById('story').innerText =
        "Sua voz ecoa forte, com mem√≥rias da vila, da floresta, da can√ß√£o e da crian√ßa. O Guardi√£o sorri. A ponte se ilumina. Voc√™ alcan√ßa o Santu√°rio da Mem√≥ria e se torna uma Gri√¥ eterna.";
      document.getElementById('choices').innerHTML = `
        <p><strong>üåü FINAL FELIZ:</strong> Voc√™ se tornou a "Guardi√£ das Hist√≥rias"</p>
        <button class="btn" onclick="reiniciar()">Recome√ßar a Jornada</button>
      `;
    }

    function finalNeutro() {
      document.getElementById('body').style.backgroundImage = "url('bg_final_neutro.jpg')";
      playAudio('bg_vila.wav');
      document.getElementById('story').innerText =
        "Voc√™ inventa algo novo. O guardi√£o hesita, mas permite sua passagem. Voc√™ entra no Santu√°rio com d√∫vidas no cora√ß√£o.";
      document.getElementById('choices').innerHTML = `
        <p><strong>üåÄ FINAL NEUTRO:</strong> Com tantas hist√≥rias inventadas voc√™ √© nomeada "A Inventora de Hist√≥rias"</p>
        <button class="btn" onclick="reiniciar()">Recome√ßar a Jornada</button>
      `;
    }

    function finalRuim() {
      document.getElementById('body').style.backgroundImage = "url('bg_final_ruim.jpg')";
      playAudio('bg_final_ruim.wav');
      document.getElementById('story').innerText =
        "Voc√™ hesita. O sil√™ncio pesa. O guardi√£o fecha o caminho. A ponte desaparece. Voc√™ retorna, com mem√≥rias dispersas, sem saber se tudo foi real.";
      document.getElementById('choices').innerHTML = `
        <p><strong>üåë FINAL RUIM:</strong> Suas escolhas levaram o folclore brasileiro ao Esquecimento...</p>
        <button class="btn" onclick="reiniciar()">Recome√ßar a Jornada</button>
      `;
    }

    function reiniciar() {
      location.reload();
    }
  </script>
</body>
</html>
